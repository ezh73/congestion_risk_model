# 🏝️ 미리제주: 관광지 혼잡도·위험도 예측 프로젝트 (복원 버전)

> "모델은 기간 내 완성하지 못했지만,\
> 대규모 데이터를 설계하고 학습 구조를 구현하며 얻은 통찰이 남았다."

------------------------------------------------------------------------

## 📘 프로젝트 개요

**기간:** 2025.10 (약 1주일, 실질 개발 기간 약 10일 내외)\
**역할:** 모델 설계 및 데이터 처리 파이프라인 구축

**목표**\
제주도 관광지의 **혼잡도(congestion)** 및 **교통사고 위험도(risk)** 를
예측하여\
사용자가 날짜와 장소를 입력하면 하루 시간대별 위험 패턴을 확인할 수 있는
서비스를 구축.

**핵심 아이디어**\
- **혼잡도 예측:** 관광지 월별 유입인구 데이터를 시뮬레이션하여 시간
단위 혼잡도를 예측\
- **위험도 예측:** 교통정보 기반 Teacher--Student 구조를 이용해
시간·공간 정보만으로 위험도를 추정

> 초기 기획과 역할 분담 과정에서 변경이 잦아 실제 모델 개발에 할당된
> 기간은 약 열흘 내외였으며,\
> 추석 연휴 기간 동안 집중 개발을 진행했으나 데이터 제약으로 완성에는
> 이르지 못했습니다.

> 본 저장소는 당시 구현했던 **모델 코드를 중심으로 부분적으로 복원한 버전**입니다.\
> (원본 데이터 및 대용량 Parquet 파일은 용량 문제로 제외되었습니다.)

------------------------------------------------------------------------

## ⚙️ 기술 스택

-   **데이터 처리:** Polars, Parquet, LazyFrame, Streaming 기반
    파이프라인\
-   **모델링:** LightGBM (GPU), NeuralProphet(초기 시도),
    Teacher--Student 지식 증류 구조\
-   **피처 엔지니어링:** H3 지오해시 인코딩, 시간 주기 변환(`hour_sin`,
    `hour_cos`), 휴일 플래그 등\
-   **환경:** Google Colab GPU / Local Python (venv)

------------------------------------------------------------------------

## 🧩 모델 구조 개요

### 📈 혼잡도 예측 모델

    월별 유입인구 통계 → 시간대별 인구 시뮬레이션 → LGBM 회귀모델 / NeuralProphet 시도

-   제주데이터허브 제공 월별 관광지 방문객 통계 데이터를 기반으로\
    시간 단위로 재구성한 **가상 유입인구 시뮬레이션 데이터셋** 생성\
-   교통량, 요일, 개장시간 등 외부 요인을 피처로 활용\
-   NeuralProphet(시계열 예측)과 LGBM(비시계열 회귀) 비교

> 📎 혼잡도 데이터 수집 한계\
> - 제주빅데이터플랫폼에 **혼잡도·유동인구 API** 요청 → SK API 유료
> 라이선스 문제로 사용 불가\
> - 스크래핑 방식은 **법적 리스크** 판단으로 중단\
> - 결국 **합법적으로 접근 가능한 공공데이터(월별 인구 통계)** 를
> 이용해\
> 시간 단위로 변환·보간(simulation)하여 대체\
> - "불완전하지만 합법적이고 재현 가능한 방식"으로 데이터 설계

### 🚗 위험도 예측 모델

    Teacher Model (LGBM Classifier)
            ↓ soft label 전이
    Student Model (LGBM Regressor)

-   Teacher 모델: 교통량·사고 데이터 기반 위험도 학습\
-   Student 모델: 시간·공간 피처만으로 Teacher 예측을 모사\
-   목표: 교통량 데이터가 없는 상황에서도 위험도 추정 가능하도록 학습

------------------------------------------------------------------------

## 🔍 수행 과정

### 1️⃣ 혼잡도 예측

-   제주데이터허브의 36개 관광지 월별 유입인구 데이터를 이용\
-   개장시간, 요일, 교통량 등을 반영한 **시간대별 인구 시뮬레이션**
    수행\
-   NeuralProphet과 LGBM 비교 실험 (NeuralProphet은 Colab 환경 문제로
    중단)\
-   일부 관광지에서는 변동이 있었으나 **미학습 지역에서는 변별력이
    부족**하여 실패로 판단

### 2️⃣ 위험도 예측

-   제주 ITS 교통데이터를 Polars LazyFrame으로 병렬 처리\
-   Teacher 모델은 사고 발생 빈도가 매우 낮아(1억 건 중 약 수백 건 수준)
    분포가 희박\
-   Student 모델이 Teacher의 예측 분포를 모사하지 못하고\
    **시각화 시 모든 지역에서 예측값이 평탄하게 출력**\
-   데이터 불균형으로 인해 모델이 위험도 차이를 학습하지 못함

------------------------------------------------------------------------

## 📉 한계 및 실패 원인

  ------------------------------------------------------------------------
  문제            원인            개선 아이디어
  --------------- --------------- ----------------------------------------
  혼잡도 변별력   시뮬레이션      외부 교통량 API, POI 밀도 등 추가 피처
  부족            데이터의 한계   

  위험도 평탄화   사고 데이터     샘플링, Synthetic oversampling, soft
                  희소성 (1억 중  label 강화
                  수백건 수준)    

  NeuralProphet   Colab 세션      LGBM 중심 구조로 통합
  환경 오류       중단, 모델 저장 
                  불안정          
  ------------------------------------------------------------------------

------------------------------------------------------------------------

## 🧠 배운 점

> -   Polars + Parquet 기반 **대규모 데이터 처리 파이프라인** 구축 경험\
> -   LazyFrame을 이용한 효율적 필터링·집계 및 Streaming 구조 설계\
> -   **Teacher--Student 지식 증류 구조** 설계 및 구현\
> -   데이터 불균형과 피처 부족이 모델 학습에 미치는 영향 체감\
> -   **합법적 데이터 접근의 제약** 속에서도 가능한 대안을 설계\
> -   모델 성능보다 **데이터 설계와 품질의 중요성**을 실감

------------------------------------------------------------------------

## 🔭 향후 개선 방향

-   H3 외의 공간 피처(POI 밀도, 도로망, 행정구역 등) 보강\
-   Teacher 예측값의 soft label 활용 및 데이터 재가공\
-   혼잡도/위험도 통합 모델 개발 및 API 경량화 서비스화

------------------------------------------------------------------------

## 💬 자기평가

> "기간은 짧았지만,\
> 데이터 처리 병목 해결과 학습 파이프라인 설계,\
> Teacher--Student 구조를 실제로 구현하며\
> **AI 모델보다 데이터 구조 설계가 핵심임을 체감했습니다.**\
> 추석 연휴 기간 동안 집중적으로 개발하며,\
> 짧은 일정에서도 문제 해결을 끝까지 시도한 경험이었습니다."

------------------------------------------------------------------------

## 📂 Reference

-   제주데이터허브: 관광지 방문객 통계 --- https://data.jejudatahub.net\
-   제주빅데이터플랫폼: 혼잡도·유동인구 데이터 (API 요청 불가 회신)\
-   국토교통부 ITS 교통데이터 --- https://data.go.kr
